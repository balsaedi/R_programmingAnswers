<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Data Visualization | R Course</title>
  <meta name="description" content="Chapter 5 Data Visualization | R Course" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Data Visualization | R Course" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Data Visualization | R Course" />
  
  
  

<meta name="author" content="YOUR NAME HERE" />


<meta name="date" content="2024-10-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-manipulation.html"/>
<link rel="next" href="explanatory-data-analysis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SHORT TITLE HERE</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction to R and Basic Programming Concepts</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#overview-of-r-programming"><i class="fa fa-check"></i><b>1.1</b> Overview of R Programming</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#introduction-to-r"><i class="fa fa-check"></i><b>1.1.1</b> Introduction to R</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#importance-of-r-in-data-analysis"><i class="fa fa-check"></i><b>1.1.2</b> Importance of R in Data Analysis</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#application-of-r-in-various-industries"><i class="fa fa-check"></i><b>1.1.3</b> Application of R in Various Industries</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#introduction-to-the-r-ecosystem"><i class="fa fa-check"></i><b>1.2</b> Introduction to the R ecosystem</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#r-studio"><i class="fa fa-check"></i><b>1.2.1</b> R Studio</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#cran"><i class="fa fa-check"></i><b>1.2.2</b> CRAN</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#setting-up-r-environment"><i class="fa fa-check"></i><b>1.3</b> Setting Up R Environment</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#installation-of-r-and-rstudio"><i class="fa fa-check"></i><b>1.3.1</b> Installation of R and RStudio</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#introduction-to-rstudio-interface"><i class="fa fa-check"></i><b>1.3.2</b> Introduction to RStudio Interface</a></li>
<li class="chapter" data-level="1.3.3" data-path="index.html"><a href="index.html#basic-r-syntax-and-commands"><i class="fa fa-check"></i><b>1.3.3</b> Basic R Syntax and Commands</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#hands-on-exercise"><i class="fa fa-check"></i><b>1.4</b> Hands-on Exercise</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#solution"><i class="fa fa-check"></i><b>1.5</b> <span style="color: brown;">Solution</span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-data-types-and-structures.html"><a href="basic-data-types-and-structures.html"><i class="fa fa-check"></i><b>2</b> Basic Data Types and Structures</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic-data-types-and-structures.html"><a href="basic-data-types-and-structures.html#data-types"><i class="fa fa-check"></i><b>2.1</b> Data types</a></li>
<li class="chapter" data-level="2.2" data-path="basic-data-types-and-structures.html"><a href="basic-data-types-and-structures.html#data-structures"><i class="fa fa-check"></i><b>2.2</b> Data Structures</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="basic-data-types-and-structures.html"><a href="basic-data-types-and-structures.html#vector"><i class="fa fa-check"></i><b>2.2.1</b> Vector</a></li>
<li class="chapter" data-level="2.2.2" data-path="basic-data-types-and-structures.html"><a href="basic-data-types-and-structures.html#matrix"><i class="fa fa-check"></i><b>2.2.2</b> Matrix</a></li>
<li class="chapter" data-level="2.2.3" data-path="basic-data-types-and-structures.html"><a href="basic-data-types-and-structures.html#data-frame"><i class="fa fa-check"></i><b>2.2.3</b> Data frame</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-importing-and-exporting.html"><a href="data-importing-and-exporting.html"><i class="fa fa-check"></i><b>3</b> Data Importing and Exporting</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-importing-and-exporting.html"><a href="data-importing-and-exporting.html#introduction-to-data-importing"><i class="fa fa-check"></i><b>3.1</b> Introduction to Data Importing</a></li>
<li class="chapter" data-level="3.2" data-path="data-importing-and-exporting.html"><a href="data-importing-and-exporting.html#demonstration-of-data-importing"><i class="fa fa-check"></i><b>3.2</b> Demonstration of Data Importing</a></li>
<li class="chapter" data-level="3.3" data-path="data-importing-and-exporting.html"><a href="data-importing-and-exporting.html#introduction-to-data-exporting"><i class="fa fa-check"></i><b>3.3</b> Introduction to Data Exporting</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>4</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#basic-data-manipulation"><i class="fa fa-check"></i><b>4.1</b> Basic Data Manipulation</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-manipulation.html"><a href="data-manipulation.html#introduction-to-data-manipulation"><i class="fa fa-check"></i><b>4.1.1</b> Introduction to Data Manipulation</a></li>
<li class="chapter" data-level="4.1.2" data-path="data-manipulation.html"><a href="data-manipulation.html#subsetting-and-filtering-data"><i class="fa fa-check"></i><b>4.1.2</b> Subsetting and Filtering Data:</a></li>
<li class="chapter" data-level="4.1.3" data-path="data-manipulation.html"><a href="data-manipulation.html#sorting-data"><i class="fa fa-check"></i><b>4.1.3</b> Sorting Data</a></li>
<li class="chapter" data-level="4.1.4" data-path="data-manipulation.html"><a href="data-manipulation.html#basic-data-cleaning"><i class="fa fa-check"></i><b>4.1.4</b> Basic Data Cleaning</a></li>
<li class="chapter" data-level="4.1.5" data-path="data-manipulation.html"><a href="data-manipulation.html#hands-on-exercises"><i class="fa fa-check"></i><b>4.1.5</b> Hands-on Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#data-manipulation-with-dplyr"><i class="fa fa-check"></i><b>4.2</b> Data Manipulation with Dplyr</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-manipulation.html"><a href="data-manipulation.html#introduction-to-dplyr-package"><i class="fa fa-check"></i><b>4.2.1</b> Introduction to Dplyr package</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-manipulation.html"><a href="data-manipulation.html#key-functions-in-dplyr"><i class="fa fa-check"></i><b>4.2.2</b> Key Functions in dplyr</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-manipulation.html"><a href="data-manipulation.html#select"><i class="fa fa-check"></i><b>4.2.3</b> select</a></li>
<li class="chapter" data-level="4.2.4" data-path="data-manipulation.html"><a href="data-manipulation.html#filter"><i class="fa fa-check"></i><b>4.2.4</b> filter</a></li>
<li class="chapter" data-level="4.2.5" data-path="data-manipulation.html"><a href="data-manipulation.html#arrange"><i class="fa fa-check"></i><b>4.2.5</b> arrange</a></li>
<li class="chapter" data-level="4.2.6" data-path="data-manipulation.html"><a href="data-manipulation.html#mutate"><i class="fa fa-check"></i><b>4.2.6</b> mutate</a></li>
<li class="chapter" data-level="4.2.7" data-path="data-manipulation.html"><a href="data-manipulation.html#group_by"><i class="fa fa-check"></i><b>4.2.7</b> group_by</a></li>
<li class="chapter" data-level="4.2.8" data-path="data-manipulation.html"><a href="data-manipulation.html#summarise"><i class="fa fa-check"></i><b>4.2.8</b> Summarise</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-manipulation.html"><a href="data-manipulation.html#chaining"><i class="fa fa-check"></i><b>4.3</b> Chaining</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-manipulation.html"><a href="data-manipulation.html#hands-on-exercises-1"><i class="fa fa-check"></i><b>4.3.1</b> Hands-on Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>5</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-visualization.html"><a href="data-visualization.html#basic-data-visualization"><i class="fa fa-check"></i><b>5.1</b> Basic Data Visualization</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data-visualization.html"><a href="data-visualization.html#introduction-to-ggplot2"><i class="fa fa-check"></i><b>5.1.1</b> Introduction to ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-visualization.html"><a href="data-visualization.html#solution-to-be-provided"><i class="fa fa-check"></i><b>5.2</b> <span style="color: brown;">SOLUTION TO BE PROVIDED</span></a></li>
<li class="chapter" data-level="5.3" data-path="data-visualization.html"><a href="data-visualization.html#advanced-data-visualization"><i class="fa fa-check"></i><b>5.3</b> Advanced Data Visualization</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data-visualization.html"><a href="data-visualization.html#creating-complex-visualizations"><i class="fa fa-check"></i><b>5.3.1</b> Creating Complex Visualizations</a></li>
<li class="chapter" data-level="5.3.2" data-path="data-visualization.html"><a href="data-visualization.html#combining-multiple-plots"><i class="fa fa-check"></i><b>5.3.2</b> Combining Multiple Plots</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-visualization.html"><a href="data-visualization.html#solution-to-be-provided-1"><i class="fa fa-check"></i><b>5.4</b> <span style="color: brown;">SOLUTION TO BE PROVIDED</span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="explanatory-data-analysis.html"><a href="explanatory-data-analysis.html"><i class="fa fa-check"></i><b>6</b> Explanatory Data Analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="explanatory-data-analysis.html"><a href="explanatory-data-analysis.html#introduction-to-eda"><i class="fa fa-check"></i><b>6.1</b> Introduction to EDA</a></li>
<li class="chapter" data-level="6.2" data-path="explanatory-data-analysis.html"><a href="explanatory-data-analysis.html#choosing-a-data-set"><i class="fa fa-check"></i><b>6.2</b> Choosing a data set</a></li>
<li class="chapter" data-level="6.3" data-path="explanatory-data-analysis.html"><a href="explanatory-data-analysis.html#conducting-eda"><i class="fa fa-check"></i><b>6.3</b> Conducting EDA</a></li>
<li class="chapter" data-level="6.4" data-path="explanatory-data-analysis.html"><a href="explanatory-data-analysis.html#present-findings"><i class="fa fa-check"></i><b>6.4</b> Present Findings</a></li>
<li class="chapter" data-level="6.5" data-path="explanatory-data-analysis.html"><a href="explanatory-data-analysis.html#eda---example"><i class="fa fa-check"></i><b>6.5</b> <span style="color: brown;">EDA - Example</span></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="explanatory-data-analysis.html"><a href="explanatory-data-analysis.html#introduction"><i class="fa fa-check"></i><b>6.5.1</b> <span style="color: brown;">Introduction</span></a></li>
<li class="chapter" data-level="6.5.2" data-path="explanatory-data-analysis.html"><a href="explanatory-data-analysis.html#data-assessment-and-cleaning"><i class="fa fa-check"></i><b>6.5.2</b> <span style="color: brown;">Data Assessment and Cleaning</span></a></li>
<li class="chapter" data-level="6.5.3" data-path="explanatory-data-analysis.html"><a href="explanatory-data-analysis.html#data-visualization-1"><i class="fa fa-check"></i><b>6.5.3</b> <span style="color: brown;">Data Visualization</span></a></li>
<li class="chapter" data-level="6.5.4" data-path="explanatory-data-analysis.html"><a href="explanatory-data-analysis.html#key-findings"><i class="fa fa-check"></i><b>6.5.4</b> <span style="color: brown;">Key Findings</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="statistical-analysis.html"><a href="statistical-analysis.html"><i class="fa fa-check"></i><b>7</b> Statistical Analysis</a>
<ul>
<li class="chapter" data-level="7.1" data-path="statistical-analysis.html"><a href="statistical-analysis.html#basic-statistical-concepts"><i class="fa fa-check"></i><b>7.1</b> Basic Statistical Concepts</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="statistical-analysis.html"><a href="statistical-analysis.html#introduction-to-descriptive-statistics"><i class="fa fa-check"></i><b>7.1.1</b> Introduction to Descriptive Statistics</a></li>
<li class="chapter" data-level="7.1.2" data-path="statistical-analysis.html"><a href="statistical-analysis.html#visualization-of-descriptive-statistics"><i class="fa fa-check"></i><b>7.1.2</b> Visualization of Descriptive Statistics</a></li>
<li class="chapter" data-level="7.1.3" data-path="statistical-analysis.html"><a href="statistical-analysis.html#hands-on-exercise-1"><i class="fa fa-check"></i><b>7.1.3</b> Hands On Exercise</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="statistical-analysis.html"><a href="statistical-analysis.html#correlation-and-regression-analysis"><i class="fa fa-check"></i><b>7.2</b> Correlation and Regression Analysis</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="statistical-analysis.html"><a href="statistical-analysis.html#introduction-to-correlation"><i class="fa fa-check"></i><b>7.2.1</b> Introduction to Correlation</a></li>
<li class="chapter" data-level="7.2.2" data-path="statistical-analysis.html"><a href="statistical-analysis.html#introduction-to-regression-analysis"><i class="fa fa-check"></i><b>7.2.2</b> Introduction to Regression Analysis</a></li>
<li class="chapter" data-level="7.2.3" data-path="statistical-analysis.html"><a href="statistical-analysis.html#hands-on-exercises-2"><i class="fa fa-check"></i><b>7.2.3</b> Hands-on Exercises</a></li>
<li class="chapter" data-level="7.2.4" data-path="statistical-analysis.html"><a href="statistical-analysis.html#to-be-done"><i class="fa fa-check"></i><b>7.2.4</b> <span style="color: brown;"><strong>TO BE DONE</strong></span></a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="statistical-analysis.html"><a href="statistical-analysis.html#advanced-statistical-methods"><i class="fa fa-check"></i><b>7.3</b> Advanced Statistical Methods</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="statistical-analysis.html"><a href="statistical-analysis.html#introduction-to-hypothesis-testing"><i class="fa fa-check"></i><b>7.3.1</b> Introduction to Hypothesis Testing</a></li>
<li class="chapter" data-level="7.3.2" data-path="statistical-analysis.html"><a href="statistical-analysis.html#hands-on-exercises-3"><i class="fa fa-check"></i><b>7.3.2</b> Hands-on Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="statistical-analysis.html"><a href="statistical-analysis.html#project-applying-statistical-analysis"><i class="fa fa-check"></i><b>7.4</b> Project: Applying Statistical Analysis</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="statistical-analysis.html"><a href="statistical-analysis.html#project-overview"><i class="fa fa-check"></i><b>7.4.1</b> Project Overview</a></li>
<li class="chapter" data-level="7.4.2" data-path="statistical-analysis.html"><a href="statistical-analysis.html#conducting-statistical-analysis"><i class="fa fa-check"></i><b>7.4.2</b> Conducting Statistical Analysis</a></li>
<li class="chapter" data-level="7.4.3" data-path="statistical-analysis.html"><a href="statistical-analysis.html#presenting-statistical-findings"><i class="fa fa-check"></i><b>7.4.3</b> Presenting Statistical Findings</a></li>
<li class="chapter" data-level="7.4.4" data-path="statistical-analysis.html"><a href="statistical-analysis.html#example-ecommerce-statistical-analysis"><i class="fa fa-check"></i><b>7.4.4</b> <span style="color: brown;">Example: Ecommerce Statistical Analysis</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="working-with-real-world-data.html"><a href="working-with-real-world-data.html"><i class="fa fa-check"></i><b>8</b> Working with Real-World Data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="working-with-real-world-data.html"><a href="working-with-real-world-data.html#handling-large-datasets"><i class="fa fa-check"></i><b>8.1</b> Handling Large Datasets</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="working-with-real-world-data.html"><a href="working-with-real-world-data.html#challenges-of-large-data-sets"><i class="fa fa-check"></i><b>8.1.1</b> Challenges of Large Data sets</a></li>
<li class="chapter" data-level="8.1.2" data-path="working-with-real-world-data.html"><a href="working-with-real-world-data.html#efficient-data-handling-techniques"><i class="fa fa-check"></i><b>8.1.2</b> Efficient Data Handling Techniques</a></li>
<li class="chapter" data-level="8.1.3" data-path="working-with-real-world-data.html"><a href="working-with-real-world-data.html#reading-and-writing-large-files"><i class="fa fa-check"></i><b>8.1.3</b> Reading and Writing Large Files</a></li>
<li class="chapter" data-level="8.1.4" data-path="working-with-real-world-data.html"><a href="working-with-real-world-data.html#hands-on-exercises-4"><i class="fa fa-check"></i><b>8.1.4</b> Hands-On Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="working-with-real-world-data.html"><a href="working-with-real-world-data.html#data-cleaning-and-transformation"><i class="fa fa-check"></i><b>8.2</b> Data Cleaning and Transformation</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="working-with-real-world-data.html"><a href="working-with-real-world-data.html#introduction-to-data-cleaning"><i class="fa fa-check"></i><b>8.2.1</b> Introduction to Data Cleaning</a></li>
<li class="chapter" data-level="8.2.2" data-path="working-with-real-world-data.html"><a href="working-with-real-world-data.html#hands-on-exercises-5"><i class="fa fa-check"></i><b>8.2.2</b> Hands-On Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="time-series-analysis.html"><a href="time-series-analysis.html"><i class="fa fa-check"></i><b>9</b> Time Series Analysis</a>
<ul>
<li class="chapter" data-level="9.1" data-path="time-series-analysis.html"><a href="time-series-analysis.html#introduction-to-time-series-data"><i class="fa fa-check"></i><b>9.1</b> Introduction to Time Series Data</a></li>
<li class="chapter" data-level="9.2" data-path="time-series-analysis.html"><a href="time-series-analysis.html#basic-time-series-concepts"><i class="fa fa-check"></i><b>9.2</b> Basic Time Series Concepts</a></li>
<li class="chapter" data-level="9.3" data-path="time-series-analysis.html"><a href="time-series-analysis.html#basic-time-series-forecasting"><i class="fa fa-check"></i><b>9.3</b> Basic Time Series Forecasting</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="time-series-analysis.html"><a href="time-series-analysis.html#moving-averages"><i class="fa fa-check"></i><b>9.3.1</b> Moving Averages</a></li>
<li class="chapter" data-level="9.3.2" data-path="time-series-analysis.html"><a href="time-series-analysis.html#arima-model"><i class="fa fa-check"></i><b>9.3.2</b> ARIMA model</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="time-series-analysis.html"><a href="time-series-analysis.html#hands-on-exercises-6"><i class="fa fa-check"></i><b>9.4</b> Hands-On Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="capstone-project.html"><a href="capstone-project.html"><i class="fa fa-check"></i><b>10</b> Capstone Project</a>
<ul>
<li class="chapter" data-level="10.1" data-path="capstone-project.html"><a href="capstone-project.html#introduction-1"><i class="fa fa-check"></i><b>10.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="capstone-project.html"><a href="capstone-project.html#project-overview-and-objectives"><i class="fa fa-check"></i><b>10.1.1</b> Project Overview and Objectives</a></li>
<li class="chapter" data-level="10.1.2" data-path="capstone-project.html"><a href="capstone-project.html#group-formation"><i class="fa fa-check"></i><b>10.1.2</b> Group Formation</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="capstone-project.html"><a href="capstone-project.html#project-planning"><i class="fa fa-check"></i><b>10.2</b> Project Planning</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="capstone-project.html"><a href="capstone-project.html#defining-the-problem-statement"><i class="fa fa-check"></i><b>10.2.1</b> Defining the problem statement</a></li>
<li class="chapter" data-level="10.2.2" data-path="capstone-project.html"><a href="capstone-project.html#planning-the-analysis-workflow"><i class="fa fa-check"></i><b>10.2.2</b> Planning the Analysis WorkFlow</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="capstone-project.html"><a href="capstone-project.html#project-execution"><i class="fa fa-check"></i><b>10.3</b> Project Execution</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="capstone-project.html"><a href="capstone-project.html#part-1"><i class="fa fa-check"></i><b>10.3.1</b> Part 1</a></li>
<li class="chapter" data-level="10.3.2" data-path="capstone-project.html"><a href="capstone-project.html#part-2"><i class="fa fa-check"></i><b>10.3.2</b> Part 2</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="capstone-project.html"><a href="capstone-project.html#project-presentations-and-feedback"><i class="fa fa-check"></i><b>10.4</b> Project Presentations and Feedback</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="datasets.html"><a href="datasets.html"><i class="fa fa-check"></i><b>11</b> Datasets</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Course</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-visualization" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Data Visualization<a href="data-visualization.html#data-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="basic-data-visualization" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Basic Data Visualization<a href="data-visualization.html#basic-data-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="introduction-to-ggplot2" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Introduction to ggplot2<a href="data-visualization.html#introduction-to-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="images/ggplot.png" /></p>
<p>This is package designed for data visualization. It provides a powerful and flexible framework for creating complex and aesthetically pleasing visualizations, allowing users to layer various components such as axes, scales, colors, and <code>geoms</code> to create detailed and customizable plots.</p>
<p>The package is said that it implements the principle of “Grammar of Graphics”. The “Grammar of Graphics” is a conceptual framework for creating graphs by Leland Wilkinson. The process of creating graphs is broken into fundamental components. This allows structure and flexible approach in data visualization. The plots are constructed by a layered approach by implementing these concepts step by step; data, aesthetics(<code>aes</code>), geometrics(<code>geoms</code>), statistical transformations (<code>stats</code>), scales, cordinates and facets.</p>
<p>The package is also under the <code>tidyverse</code> package but can be installed by</p>
<pre><code>install.packages(&quot;ggplot2&quot;)</code></pre>
<p>Once the package is installed, it can be loaded by</p>
<pre><code>library(ggplot2)</code></pre>
<p>There are 5 key steps in plotting in ggplot;</p>
<ol style="list-style-type: decimal">
<li><strong>The Setup</strong> - Read the data set, define x and y axis</li>
<li><strong>The Labels</strong> - Title, X and Y axis labels</li>
<li><strong>The Theme</strong> - Default, Black and White, colored etc.</li>
<li><strong>The Facets</strong> - Individual Graphs for each group in data with exactly same range</li>
<li><strong>The Layers or geoms</strong> - The actual plot type - e.g Bar plot, Box plot, Violin plot etc.</li>
</ol>
<p>Here is an example of a layered approach in creating charts by applying the “Grammar of Graphics”.</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb450-1"><a href="data-visualization.html#cb450-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb450-2"><a href="data-visualization.html#cb450-2" tabindex="-1"></a></span>
<span id="cb450-3"><a href="data-visualization.html#cb450-3" tabindex="-1"></a><span class="co"># Sample data</span></span>
<span id="cb450-4"><a href="data-visualization.html#cb450-4" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb450-5"><a href="data-visualization.html#cb450-5" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb450-6"><a href="data-visualization.html#cb450-6" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb450-7"><a href="data-visualization.html#cb450-7" tabindex="-1"></a>  <span class="at">category =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>), <span class="dv">100</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb450-8"><a href="data-visualization.html#cb450-8" tabindex="-1"></a>)</span>
<span id="cb450-9"><a href="data-visualization.html#cb450-9" tabindex="-1"></a></span>
<span id="cb450-10"><a href="data-visualization.html#cb450-10" tabindex="-1"></a><span class="co"># Creating a scatter plot</span></span>
<span id="cb450-11"><a href="data-visualization.html#cb450-11" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="co"># data</span></span>
<span id="cb450-12"><a href="data-visualization.html#cb450-12" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">color =</span> category)) <span class="sc">+</span> <span class="co">#aesthetics</span></span>
<span id="cb450-13"><a href="data-visualization.html#cb450-13" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co">#geometrics</span></span>
<span id="cb450-14"><a href="data-visualization.html#cb450-14" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Scatter Plot Example&quot;</span>, <span class="at">x =</span> <span class="st">&quot;X-Axis&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Y-Axis&quot;</span>) <span class="sc">+</span></span>
<span id="cb450-15"><a href="data-visualization.html#cb450-15" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-188-1.png" width="672" /></p>
<div id="creating-basic-plots" class="section level4 hasAnchor" number="5.1.1.1">
<h4><span class="header-section-number">5.1.1.1</span> Creating Basic Plots<a href="data-visualization.html#creating-basic-plots" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><strong>Scatter Plots</strong></li>
</ul>
<p>Scatter plot is used to show a numerical relationship between two or more variables for instance height versus weight of footballers. It is also used to detect correlation, the increase in one variable can lead to increase/decrease of another variable. Furthermore scatter plots are used to detect outliers, values that appear out of the general patterns of other data points is said to be an outlier in this case. However, scatter plots is not suitable when working with categorical data especially when only two variables are to be analyzed.</p>
<p>Lets create a basic scatter plot to compare height and weight;-</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb451-1"><a href="data-visualization.html#cb451-1" tabindex="-1"></a><span class="co">#Prepare a Sample data</span></span>
<span id="cb451-2"><a href="data-visualization.html#cb451-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb451-3"><a href="data-visualization.html#cb451-3" tabindex="-1"></a>  <span class="at">height =</span> <span class="fu">c</span>(<span class="dv">150</span>, <span class="dv">160</span>, <span class="dv">170</span>, <span class="dv">180</span>, <span class="dv">190</span>),</span>
<span id="cb451-4"><a href="data-visualization.html#cb451-4" tabindex="-1"></a>  <span class="at">weight =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">90</span>)</span>
<span id="cb451-5"><a href="data-visualization.html#cb451-5" tabindex="-1"></a>)</span>
<span id="cb451-6"><a href="data-visualization.html#cb451-6" tabindex="-1"></a></span>
<span id="cb451-7"><a href="data-visualization.html#cb451-7" tabindex="-1"></a><span class="co"># Creating a basic scatter plot</span></span>
<span id="cb451-8"><a href="data-visualization.html#cb451-8" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="co"># data</span></span>
<span id="cb451-9"><a href="data-visualization.html#cb451-9" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> height, <span class="at">y =</span> weight)) <span class="sc">+</span> <span class="co"># aesthetics</span></span>
<span id="cb451-10"><a href="data-visualization.html#cb451-10" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-189-1.png" width="672" />
To make the chart more informative, titles and labels are added.</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="data-visualization.html#cb452-1" tabindex="-1"></a><span class="co"># Creating a basic scatter plot</span></span>
<span id="cb452-2"><a href="data-visualization.html#cb452-2" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="co"># data</span></span>
<span id="cb452-3"><a href="data-visualization.html#cb452-3" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> height, <span class="at">y =</span> weight)) <span class="sc">+</span> <span class="co"># aesthetics</span></span>
<span id="cb452-4"><a href="data-visualization.html#cb452-4" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb452-5"><a href="data-visualization.html#cb452-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Height vs. Weight&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Height (cm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Weight (kg)&quot;</span>) <span class="sc">+</span></span>
<span id="cb452-6"><a href="data-visualization.html#cb452-6" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-190-1.png" width="672" /></p>
<p>Lets explain the chart step by step;-</p>
<ul>
<li><code>ggplot(df, aes(x = height, y = weight))</code>: Initializes the ggplot object, specifying the data frame (<code>df</code>) and mapping the <code>height</code> variable to the x-axis and the <code>weight</code> variable to the y-axis using the <code>aes()</code> function.</li>
<li><code>geom_point()</code>: Creates the scatter plots by adding dots to the chart</li>
<li><code>labs()</code>: Adds the title and the axis labels to the chart.</li>
<li><code>theme_minimal()</code>: Applies a minimal theme to the plot for a minimalist and clean appearance.</li>
</ul>
<p><span style="color: green;"><strong>Practical exercise</strong></span></p>
<p>Solve the questions below;</p>
<ol style="list-style-type: lower-roman">
<li>Using the <code>"mtcars"</code> inbuilt data set, plot a scatter chart to visualize the relationship between <code>mpg</code> (miles per gallon) and <code>hp</code> (horsepower). Label the axes appropriately. <strong>Hint</strong>: the data set can be loaded by <code>data("mtcars")</code> command.</li>
<li>Using the <code>airquality</code> data set, plot a scatter plot to show the relationship between <code>Wind</code> and <code>Temp</code>. <strong>Hint</strong>: the data set can be loaded by <code>data("airquality")</code> command.</li>
</ol>
<hr />
<p><span style="color: brown;"><strong>Solution</strong></span></p>
<ol style="list-style-type: lower-roman">
<li>Using the <code>"mtcars"</code> inbuilt data set, plot a scatter chart to visualize the relationship between <code>mpg</code> (miles per gallon) and <code>hp</code> (horsepower). Label the axes appropriately. Hint: the data set can be loaded by <code>data("mtcars")</code> command.</li>
</ol>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="data-visualization.html#cb453-1" tabindex="-1"></a><span class="co"># Import the libraries</span></span>
<span id="cb453-2"><a href="data-visualization.html#cb453-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb453-3"><a href="data-visualization.html#cb453-3" tabindex="-1"></a></span>
<span id="cb453-4"><a href="data-visualization.html#cb453-4" tabindex="-1"></a><span class="co"># Load the data and show the first few rows</span></span>
<span id="cb453-5"><a href="data-visualization.html#cb453-5" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb453-6"><a href="data-visualization.html#cb453-6" tabindex="-1"></a></span>
<span id="cb453-7"><a href="data-visualization.html#cb453-7" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span></code></pre></div>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="data-visualization.html#cb455-1" tabindex="-1"></a><span class="co"># Creating a scatter plot</span></span>
<span id="cb455-2"><a href="data-visualization.html#cb455-2" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="co"># data</span></span>
<span id="cb455-3"><a href="data-visualization.html#cb455-3" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> hp, <span class="at">y =</span> mpg)) <span class="sc">+</span> <span class="co"># aesthetics</span></span>
<span id="cb455-4"><a href="data-visualization.html#cb455-4" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-191-1.png" width="672" /></p>
<ol start="2" style="list-style-type: lower-roman">
<li>Using the <code>airquality</code> data set, plot a scatter plot to show the relationship between <code>Wind</code> and <code>Temp</code>. <strong>Hint</strong>: the data set can be loaded by <code>data("airquality")</code> command.</li>
</ol>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="data-visualization.html#cb456-1" tabindex="-1"></a><span class="co"># Load the data </span></span>
<span id="cb456-2"><a href="data-visualization.html#cb456-2" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;airquality&quot;</span>)</span>
<span id="cb456-3"><a href="data-visualization.html#cb456-3" tabindex="-1"></a><span class="fu">head</span>(airquality)</span></code></pre></div>
<pre><code>##   Ozone Solar.R Wind Temp Month Day
## 1    41     190  7.4   67     5   1
## 2    36     118  8.0   72     5   2
## 3    12     149 12.6   74     5   3
## 4    18     313 11.5   62     5   4
## 5    NA      NA 14.3   56     5   5
## 6    28      NA 14.9   66     5   6</code></pre>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="data-visualization.html#cb458-1" tabindex="-1"></a><span class="co"># Creating a scatter plot</span></span>
<span id="cb458-2"><a href="data-visualization.html#cb458-2" tabindex="-1"></a><span class="fu">ggplot</span>(airquality, <span class="co"># data</span></span>
<span id="cb458-3"><a href="data-visualization.html#cb458-3" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Wind, <span class="at">y =</span> Temp)) <span class="sc">+</span> <span class="co"># aesthetics</span></span>
<span id="cb458-4"><a href="data-visualization.html#cb458-4" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-192-1.png" width="672" />
<span style="color: brown;"><strong>________________________________________________________________________________</strong></span></p>
<ul>
<li><strong>Bar Charts</strong></li>
</ul>
<p>Bar charts are used to represent both categorical and numeric data in form of rectangular bars. The length/height of each category represents its numeric value. It may corresponds to either length, count, age or any other numerical value. Bar charts are used when;-</p>
<ol style="list-style-type: lower-roman">
<li>Comparing categorical data</li>
<li>Visualizing summarized data for instance aggregated sum, average or any other summary statistics.</li>
<li>Showing frequency or count for instance representing the number of products sold per each category.</li>
<li>Ranking data. Bar charts can effectively represents ranks especially in descending/ascending order for instance ranking the life expectancy of different countries.</li>
<li>Other type of complex bar charts like stacked bar charts can be used to compare part-to-whole relationships.</li>
</ol>
<p>There are many more uses of bar charts however there are some use cases where bar charts are not preferred like when working with continuous data, scatter and line charts are more befitting. Also, bar charts are not appropriate where data has too many categories, heatmaps will do better.</p>
<p>To create a simple bar chart using ggplot2, we use <code>geom_bar</code> to define thats its a bar chart.</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="data-visualization.html#cb459-1" tabindex="-1"></a><span class="co"># Sample data</span></span>
<span id="cb459-2"><a href="data-visualization.html#cb459-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb459-3"><a href="data-visualization.html#cb459-3" tabindex="-1"></a>  <span class="at">category =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>),</span>
<span id="cb459-4"><a href="data-visualization.html#cb459-4" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">23</span>, <span class="dv">17</span>, <span class="dv">35</span>, <span class="dv">10</span>)</span>
<span id="cb459-5"><a href="data-visualization.html#cb459-5" tabindex="-1"></a>)</span>
<span id="cb459-6"><a href="data-visualization.html#cb459-6" tabindex="-1"></a></span>
<span id="cb459-7"><a href="data-visualization.html#cb459-7" tabindex="-1"></a><span class="do">## The data set above will be used to create a bar chart</span></span>
<span id="cb459-8"><a href="data-visualization.html#cb459-8" tabindex="-1"></a><span class="co"># Creating a bar chart</span></span>
<span id="cb459-9"><a href="data-visualization.html#cb459-9" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> category, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb459-10"><a href="data-visualization.html#cb459-10" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb459-11"><a href="data-visualization.html#cb459-11" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Value by Category&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Category&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Value&quot;</span>) <span class="sc">+</span></span>
<span id="cb459-12"><a href="data-visualization.html#cb459-12" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-193-1.png" width="672" /></p>
<p><span style="color: green;"><strong>Practical exercise</strong></span></p>
<p>Using the <code>mtcars</code> data set, create a bar plot to visualize the number of cars for each unique number of cylinders (<code>cyl</code>) in the mtcars data set. Label the bars with the appropriate cylinder categories and provide axis labels for clarity.</p>
<hr />
<p><span style="color: brown;"><strong>Solution</strong></span></p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="data-visualization.html#cb460-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb460-2"><a href="data-visualization.html#cb460-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb460-3"><a href="data-visualization.html#cb460-3" tabindex="-1"></a></span>
<span id="cb460-4"><a href="data-visualization.html#cb460-4" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb460-5"><a href="data-visualization.html#cb460-5" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;mtcars&quot;</span>)</span>
<span id="cb460-6"><a href="data-visualization.html#cb460-6" tabindex="-1"></a></span>
<span id="cb460-7"><a href="data-visualization.html#cb460-7" tabindex="-1"></a><span class="co"># Apply data manipulation techniques</span></span>
<span id="cb460-8"><a href="data-visualization.html#cb460-8" tabindex="-1"></a>mtcars_by_cyl <span class="ot">&lt;-</span> mtcars <span class="sc">%&gt;%</span></span>
<span id="cb460-9"><a href="data-visualization.html#cb460-9" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span></span>
<span id="cb460-10"><a href="data-visualization.html#cb460-10" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">number_of_cars =</span> <span class="fu">n</span>()) <span class="co"># get the number of cars per each cylinder</span></span>
<span id="cb460-11"><a href="data-visualization.html#cb460-11" tabindex="-1"></a></span>
<span id="cb460-12"><a href="data-visualization.html#cb460-12" tabindex="-1"></a><span class="co"># Creating a bar chart</span></span>
<span id="cb460-13"><a href="data-visualization.html#cb460-13" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars_by_cyl, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.character</span>(cyl), <span class="at">y =</span> number_of_cars)) <span class="sc">+</span></span>
<span id="cb460-14"><a href="data-visualization.html#cb460-14" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb460-15"><a href="data-visualization.html#cb460-15" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Cars by Cyclinders&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Number of Cylinders&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Number of Cars&quot;</span>) <span class="sc">+</span></span>
<span id="cb460-16"><a href="data-visualization.html#cb460-16" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-194-1.png" width="672" /></p>
<p><span style="color: brown;"><strong>________________________________________________________________________________</strong></span></p>
<ul>
<li><strong>Histograms</strong></li>
</ul>
<p>Histogram is visually similar to the bar chart however it is used show frequency and distribution across a list-like data set(vectors, lists, sets, arrays, etc) that stores continuous numeric values. The count of observation within a certain range of values are displayed.</p>
<p>Lets create a vector of random 100 ages and plot the data to a histogram.</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="data-visualization.html#cb461-1" tabindex="-1"></a><span class="co"># Generate random 1000 ages between 0 and 100</span></span>
<span id="cb461-2"><a href="data-visualization.html#cb461-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb461-3"><a href="data-visualization.html#cb461-3" tabindex="-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">100</span>, <span class="dv">1000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb461-4"><a href="data-visualization.html#cb461-4" tabindex="-1"></a></span>
<span id="cb461-5"><a href="data-visualization.html#cb461-5" tabindex="-1"></a><span class="co"># Create a data frame to use with ggplot</span></span>
<span id="cb461-6"><a href="data-visualization.html#cb461-6" tabindex="-1"></a>age_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Age =</span> ages)</span>
<span id="cb461-7"><a href="data-visualization.html#cb461-7" tabindex="-1"></a></span>
<span id="cb461-8"><a href="data-visualization.html#cb461-8" tabindex="-1"></a><span class="co"># PLOTTING</span></span>
<span id="cb461-9"><a href="data-visualization.html#cb461-9" tabindex="-1"></a><span class="co"># Create the histogram using ggplot</span></span>
<span id="cb461-10"><a href="data-visualization.html#cb461-10" tabindex="-1"></a><span class="fu">ggplot</span>(age_data, <span class="fu">aes</span>(<span class="at">x =</span> Age)) <span class="sc">+</span></span>
<span id="cb461-11"><a href="data-visualization.html#cb461-11" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb461-12"><a href="data-visualization.html#cb461-12" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Histogram of Randomly Generated Ages&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Age&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Frequency&quot;</span>) <span class="sc">+</span></span>
<span id="cb461-13"><a href="data-visualization.html#cb461-13" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-195-1.png" width="672" /></p>
<p>The bins are groups of ages ranging 5 years.</p>
<p><span style="color: green;"><strong>Practical exercise</strong></span></p>
<p>Using the <code>rivers</code> in built R data set, plot a histogram to visualize the distribution of rivers’ length. <strong>Hint</strong>: The data set is loaded by the command <code>data("rivers")</code>.</p>
<hr />
<p><span style="color: brown;"><strong>Solution</strong></span></p>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="data-visualization.html#cb462-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb462-2"><a href="data-visualization.html#cb462-2" tabindex="-1"></a></span>
<span id="cb462-3"><a href="data-visualization.html#cb462-3" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb462-4"><a href="data-visualization.html#cb462-4" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;rivers&quot;</span>)</span>
<span id="cb462-5"><a href="data-visualization.html#cb462-5" tabindex="-1"></a></span>
<span id="cb462-6"><a href="data-visualization.html#cb462-6" tabindex="-1"></a><span class="co"># Create the histogram using ggplot</span></span>
<span id="cb462-7"><a href="data-visualization.html#cb462-7" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">as.data.frame</span>(rivers), <span class="fu">aes</span>(<span class="at">x =</span> rivers)) <span class="sc">+</span></span>
<span id="cb462-8"><a href="data-visualization.html#cb462-8" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">8</span>, <span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb462-9"><a href="data-visualization.html#cb462-9" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution of Rivers&#39; Length&quot;</span>, <span class="at">x =</span> <span class="st">&quot;rivers&quot;</span>, <span class="at">y =</span> <span class="st">&quot;frequency&quot;</span>) <span class="sc">+</span></span>
<span id="cb462-10"><a href="data-visualization.html#cb462-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-196-1.png" width="672" /></p>
<p><span style="color: brown;"><strong>________________________________________________________________________________</strong></span></p>
</div>
<div id="customizing-plots" class="section level4 hasAnchor" number="5.1.1.2">
<h4><span class="header-section-number">5.1.1.2</span> Customizing plots<a href="data-visualization.html#customizing-plots" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><strong>Themes</strong></li>
</ul>
<p>Themes in <code>ggplot2</code> control the overall appearance of the plot for instance the grid line, font style, background color etc. To clearly explain the <code>theme</code> concept we will create a sample data set and plot it. The theme will be altered to show the changes in the appearance.</p>
<p>Create a data set and plot a basic bar plot from <code>ggplot2</code></p>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="data-visualization.html#cb463-1" tabindex="-1"></a><span class="co"># Sample data</span></span>
<span id="cb463-2"><a href="data-visualization.html#cb463-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb463-3"><a href="data-visualization.html#cb463-3" tabindex="-1"></a>  <span class="at">category =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>),</span>
<span id="cb463-4"><a href="data-visualization.html#cb463-4" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">23</span>, <span class="dv">17</span>, <span class="dv">35</span>, <span class="dv">10</span>)</span>
<span id="cb463-5"><a href="data-visualization.html#cb463-5" tabindex="-1"></a>)</span>
<span id="cb463-6"><a href="data-visualization.html#cb463-6" tabindex="-1"></a></span>
<span id="cb463-7"><a href="data-visualization.html#cb463-7" tabindex="-1"></a><span class="co"># Plot a basic bar chart</span></span>
<span id="cb463-8"><a href="data-visualization.html#cb463-8" tabindex="-1"></a><span class="co"># Create a basic bar plot</span></span>
<span id="cb463-9"><a href="data-visualization.html#cb463-9" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> category, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb463-10"><a href="data-visualization.html#cb463-10" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-197-1.png" width="672" /></p>
<p>Lets apply some built-in themes from <code>ggplot</code>. In this case, we will use the <code>theme_minimal()</code>.</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb464-1"><a href="data-visualization.html#cb464-1" tabindex="-1"></a><span class="co"># Bar plot with theme_minimal</span></span>
<span id="cb464-2"><a href="data-visualization.html#cb464-2" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> category, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb464-3"><a href="data-visualization.html#cb464-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb464-4"><a href="data-visualization.html#cb464-4" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-198-1.png" width="672" />
The <code>theme_minimal()</code> removes background colors, extra gridlines and axes’ tickers to give the a chart a clean look.</p>
<p>Now, lets try with the <code>theme_classic()</code></p>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb465-1"><a href="data-visualization.html#cb465-1" tabindex="-1"></a><span class="co"># Bar plot with theme_classic</span></span>
<span id="cb465-2"><a href="data-visualization.html#cb465-2" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> category, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb465-3"><a href="data-visualization.html#cb465-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb465-4"><a href="data-visualization.html#cb465-4" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-199-1.png" width="672" /></p>
<p>The <code>theme_classic()</code> gives the bar plot a clear white background, black borderline with raised 0 point on the axes and bars.</p>
<p>The third theme in this course is the <code>theme_light()</code>. Lets try it with the same data set.</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb466-1"><a href="data-visualization.html#cb466-1" tabindex="-1"></a><span class="co"># Bar plot with theme_light</span></span>
<span id="cb466-2"><a href="data-visualization.html#cb466-2" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> category, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb466-3"><a href="data-visualization.html#cb466-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb466-4"><a href="data-visualization.html#cb466-4" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-200-1.png" width="672" /></p>
<p>The <code>theme_light()</code> is gives grey gridlines, grey borderline and raised bars(not touching the axes).</p>
<p>The last theme in this list is the <code>theme_dark()</code>. Lets try it below here;</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="data-visualization.html#cb467-1" tabindex="-1"></a><span class="co"># Bar plot with theme_dark</span></span>
<span id="cb467-2"><a href="data-visualization.html#cb467-2" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> category, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb467-3"><a href="data-visualization.html#cb467-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb467-4"><a href="data-visualization.html#cb467-4" tabindex="-1"></a>  <span class="fu">theme_dark</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-201-1.png" width="672" />
The <code>theme_dark()</code> is a clear opposite of <code>theme_light</code> as it produces a plot with a dark grid lines.</p>
<p>There are more themes provided in <code>ggplot2</code> like <code>theme_bw()</code></p>
<p><span style="color: green;"><strong>Practical exercise</strong></span></p>
<p>Using the <code>mtcars</code> data set, create a bar plot to visualize the number of cars for each unique number of cylinders (<code>cyl</code>) in the mtcars data set. Apply different themes to the bar plot.</p>
<hr />
<p><span style="color: brown;"><strong>Solution</strong></span></p>
<p>Preparing the data</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="data-visualization.html#cb468-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb468-2"><a href="data-visualization.html#cb468-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb468-3"><a href="data-visualization.html#cb468-3" tabindex="-1"></a></span>
<span id="cb468-4"><a href="data-visualization.html#cb468-4" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb468-5"><a href="data-visualization.html#cb468-5" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;mtcars&quot;</span>)</span>
<span id="cb468-6"><a href="data-visualization.html#cb468-6" tabindex="-1"></a></span>
<span id="cb468-7"><a href="data-visualization.html#cb468-7" tabindex="-1"></a>mtcars_by_cyl <span class="ot">&lt;-</span> mtcars <span class="sc">%&gt;%</span></span>
<span id="cb468-8"><a href="data-visualization.html#cb468-8" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span></span>
<span id="cb468-9"><a href="data-visualization.html#cb468-9" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">number_of_cars =</span> <span class="fu">n</span>()) <span class="co"># get the number of cars per each cylinder</span></span></code></pre></div>
<p><em>Minimal theme</em></p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="data-visualization.html#cb469-1" tabindex="-1"></a><span class="co"># Creating a bar chart</span></span>
<span id="cb469-2"><a href="data-visualization.html#cb469-2" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars_by_cyl, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.character</span>(cyl), <span class="at">y =</span> number_of_cars)) <span class="sc">+</span></span>
<span id="cb469-3"><a href="data-visualization.html#cb469-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb469-4"><a href="data-visualization.html#cb469-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Cars by Cyclinders&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Number of Cylinders&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Number of Cars&quot;</span>) <span class="sc">+</span></span>
<span id="cb469-5"><a href="data-visualization.html#cb469-5" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-203-1.png" width="672" /></p>
<p><em>Classic theme</em></p>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb470-1"><a href="data-visualization.html#cb470-1" tabindex="-1"></a><span class="co"># Creating a bar chart</span></span>
<span id="cb470-2"><a href="data-visualization.html#cb470-2" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars_by_cyl, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.character</span>(cyl), <span class="at">y =</span> number_of_cars)) <span class="sc">+</span></span>
<span id="cb470-3"><a href="data-visualization.html#cb470-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb470-4"><a href="data-visualization.html#cb470-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Cars by Cyclinders&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Number of Cylinders&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Number of Cars&quot;</span>) <span class="sc">+</span></span>
<span id="cb470-5"><a href="data-visualization.html#cb470-5" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-204-1.png" width="672" /></p>
<p><em>Light theme</em></p>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="data-visualization.html#cb471-1" tabindex="-1"></a><span class="co"># Creating a bar chart</span></span>
<span id="cb471-2"><a href="data-visualization.html#cb471-2" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars_by_cyl, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.character</span>(cyl), <span class="at">y =</span> number_of_cars)) <span class="sc">+</span></span>
<span id="cb471-3"><a href="data-visualization.html#cb471-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb471-4"><a href="data-visualization.html#cb471-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Cars by Cyclinders&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Number of Cylinders&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Number of Cars&quot;</span>) <span class="sc">+</span></span>
<span id="cb471-5"><a href="data-visualization.html#cb471-5" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-205-1.png" width="672" /></p>
<p><em>Dark theme</em></p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="data-visualization.html#cb472-1" tabindex="-1"></a><span class="co"># Creating a bar chart</span></span>
<span id="cb472-2"><a href="data-visualization.html#cb472-2" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars_by_cyl, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.character</span>(cyl), <span class="at">y =</span> number_of_cars)) <span class="sc">+</span></span>
<span id="cb472-3"><a href="data-visualization.html#cb472-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb472-4"><a href="data-visualization.html#cb472-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Cars by Cyclinders&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Number of Cylinders&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Number of Cars&quot;</span>) <span class="sc">+</span></span>
<span id="cb472-5"><a href="data-visualization.html#cb472-5" tabindex="-1"></a>  <span class="fu">theme_dark</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-206-1.png" width="672" /></p>
<p><span style="color: brown;"><strong>________________________________________________________________________________</strong></span></p>
<ul>
<li><strong>Labels and Titles</strong></li>
</ul>
<p>The appearance of the charts can be made more appealing and informative by adding labels and titles. This can be achieved adding the function <code>labs</code> to a ready plot.</p>
<p>Lets plot the same bar chart as above and add more information with labels;</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb473-1"><a href="data-visualization.html#cb473-1" tabindex="-1"></a><span class="co"># Create a basic bar plot</span></span>
<span id="cb473-2"><a href="data-visualization.html#cb473-2" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> category, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb473-3"><a href="data-visualization.html#cb473-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>)</span>
<span id="cb473-4"><a href="data-visualization.html#cb473-4" tabindex="-1"></a></span>
<span id="cb473-5"><a href="data-visualization.html#cb473-5" tabindex="-1"></a>p <span class="co"># Show the plot</span></span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-207-1.png" width="672" /></p>
<p>The above chart is stored in a variable <code>p</code>. Lets add/modify the labels and titles using the <code>labs()</code> function.</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="data-visualization.html#cb474-1" tabindex="-1"></a><span class="co"># Bar plot with title, axis labels, and caption</span></span>
<span id="cb474-2"><a href="data-visualization.html#cb474-2" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">labs</span>(</span>
<span id="cb474-3"><a href="data-visualization.html#cb474-3" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Bar Plot of Categories&quot;</span>,</span>
<span id="cb474-4"><a href="data-visualization.html#cb474-4" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">&quot;Values by Category&quot;</span>,</span>
<span id="cb474-5"><a href="data-visualization.html#cb474-5" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">&quot;Category&quot;</span>,</span>
<span id="cb474-6"><a href="data-visualization.html#cb474-6" tabindex="-1"></a>  <span class="at">y =</span> <span class="st">&quot;Value&quot;</span>,</span>
<span id="cb474-7"><a href="data-visualization.html#cb474-7" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">&quot;Source: Sample Data&quot;</span></span>
<span id="cb474-8"><a href="data-visualization.html#cb474-8" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-208-1.png" width="672" /></p>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="data-visualization.html#cb475-1" tabindex="-1"></a><span class="co"># Remember `p` is the bar plot</span></span></code></pre></div>
<p>The bar plot is more informative now. Lets make the chart more appealing by modifying the appearance of the labels using the <code>theme()</code> function along with the <code>element_text()</code> function.</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="data-visualization.html#cb476-1" tabindex="-1"></a><span class="co"># Bar plot with customized title and labels</span></span>
<span id="cb476-2"><a href="data-visualization.html#cb476-2" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">labs</span>(</span>
<span id="cb476-3"><a href="data-visualization.html#cb476-3" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Bar Plot of Categories&quot;</span>,</span>
<span id="cb476-4"><a href="data-visualization.html#cb476-4" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">&quot;Values by Category&quot;</span>,</span>
<span id="cb476-5"><a href="data-visualization.html#cb476-5" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">&quot;Category&quot;</span>,</span>
<span id="cb476-6"><a href="data-visualization.html#cb476-6" tabindex="-1"></a>  <span class="at">y =</span> <span class="st">&quot;Value&quot;</span>,</span>
<span id="cb476-7"><a href="data-visualization.html#cb476-7" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">&quot;Source: Sample Data&quot;</span></span>
<span id="cb476-8"><a href="data-visualization.html#cb476-8" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb476-9"><a href="data-visualization.html#cb476-9" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb476-10"><a href="data-visualization.html#cb476-10" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb476-11"><a href="data-visualization.html#cb476-11" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb476-12"><a href="data-visualization.html#cb476-12" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb476-13"><a href="data-visualization.html#cb476-13" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb476-14"><a href="data-visualization.html#cb476-14" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb476-15"><a href="data-visualization.html#cb476-15" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-209-1.png" width="672" /></p>
<p><span style="color: green;"><strong>Practical exercise</strong></span></p>
<p>Using the <code>mtcars</code> data set, create a bar plot to visualize the number of cars for each unique number of cylinders (<code>cyl</code>) in the mtcars data set. Add <code>x</code>, <code>y</code> axes labels and titles to the plot.</p>
<hr />
<p><span style="color: brown;"><strong>Solution</strong></span></p>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="data-visualization.html#cb477-1" tabindex="-1"></a><span class="co"># Creating a bar chart</span></span>
<span id="cb477-2"><a href="data-visualization.html#cb477-2" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars_by_cyl, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.character</span>(cyl), <span class="at">y =</span> number_of_cars)) <span class="sc">+</span></span>
<span id="cb477-3"><a href="data-visualization.html#cb477-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb477-4"><a href="data-visualization.html#cb477-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Cars by Cyclinders&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Number of Cylinders&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Number of Cars&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-210-1.png" width="672" /></p>
<p><span style="color: brown;"><strong>________________________________________________________________________________</strong></span></p>
<ul>
<li><strong>Color and aesthetics</strong></li>
</ul>
<p>The general aesthetics are essential when presenting the analysis results. They enhance the visual appearance of the charts. It also allows the users/analyst to distinguish different properties/categories in a variable. These are; color, size and shape.</p>
<p>Lets plot a simple bar chart and add a flavor of aesthetics.</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="data-visualization.html#cb478-1" tabindex="-1"></a><span class="co"># Sample data with an additional variable. Modified the original one</span></span>
<span id="cb478-2"><a href="data-visualization.html#cb478-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb478-3"><a href="data-visualization.html#cb478-3" tabindex="-1"></a>  <span class="at">category =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>),</span>
<span id="cb478-4"><a href="data-visualization.html#cb478-4" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">23</span>, <span class="dv">17</span>, <span class="dv">35</span>, <span class="dv">10</span>),</span>
<span id="cb478-5"><a href="data-visualization.html#cb478-5" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">c</span>(<span class="st">&quot;G1&quot;</span>, <span class="st">&quot;G2&quot;</span>, <span class="st">&quot;G1&quot;</span>, <span class="st">&quot;G2&quot;</span>)</span>
<span id="cb478-6"><a href="data-visualization.html#cb478-6" tabindex="-1"></a>)</span>
<span id="cb478-7"><a href="data-visualization.html#cb478-7" tabindex="-1"></a></span>
<span id="cb478-8"><a href="data-visualization.html#cb478-8" tabindex="-1"></a></span>
<span id="cb478-9"><a href="data-visualization.html#cb478-9" tabindex="-1"></a><span class="co"># Bar plot with mapped color, size, and shape</span></span>
<span id="cb478-10"><a href="data-visualization.html#cb478-10" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> category, <span class="at">y =</span> value, <span class="at">color =</span> group, <span class="at">size =</span> value, <span class="at">shape =</span> group)) <span class="sc">+</span></span>
<span id="cb478-11"><a href="data-visualization.html#cb478-11" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-211-1.png" width="672" /></p>
<p>Lets break down the scatter plot on how aesthetics are applied.</p>
<ol style="list-style-type: lower-roman">
<li><code>color = group</code>: Maps the group variable to the color of the points. Each group will have a different color.</li>
<li><code>size = value</code>: Maps the value variable to the size of the points. Points with higher values will be larger.</li>
<li><code>shape = group</code>: Maps the group variable to the shape of the points. Different groups will have different shapes.</li>
</ol>
<p>Above there, the color was selected automatically by R. It can also be customized to fit our taste. Lets do a bit of color customization.</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="data-visualization.html#cb479-1" tabindex="-1"></a><span class="co"># Customizing colors manually</span></span>
<span id="cb479-2"><a href="data-visualization.html#cb479-2" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> category, <span class="at">y =</span> value, <span class="at">color =</span> group)) <span class="sc">+</span></span>
<span id="cb479-3"><a href="data-visualization.html#cb479-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb479-4"><a href="data-visualization.html#cb479-4" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;G1&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;G2&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-212-1.png" width="672" /></p>
<p>The <code>scale_color_manual()</code> function allows you to manually set the colors for each level of the group variable. In this case, G1 is set to blue and G2 to red.</p>
<p><span style="color: green;"><strong>Practical exercise</strong></span></p>
<p>Using the <code>mtcars</code> data set, create a bar plot to visualize the number of cars for each unique number of cylinders (<code>cyl</code>) in the mtcars data set. Play with different foreground and background colors to come up with the best looking plot.</p>
<hr />
<p><span style="color: brown;"><strong>Solution</strong></span></p>
</div>
</div>
</div>
<div id="solution-to-be-provided" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> <span style="color: brown;">SOLUTION TO BE PROVIDED</span><a href="data-visualization.html#solution-to-be-provided" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><span style="color: brown;"><strong>________________________________________________________________________________</strong></span></p>
</div>
<div id="advanced-data-visualization" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Advanced Data Visualization<a href="data-visualization.html#advanced-data-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="creating-complex-visualizations" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Creating Complex Visualizations<a href="data-visualization.html#creating-complex-visualizations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><strong>Boxplots</strong></li>
</ul>
<p>Box plot is a type of chart that uses boxes and lines to show distributions of one or more groups of a continuous numeric data. They provide a high-level information at a glance for instance the data symmetry, skew and variance. They can also be used to show outliers within a data set. This is the only chart that can effectively give the measure of spread and central tendency(median, quartiles and range).</p>
<p>Lets plot a simple boxplot for the age of employees from the IBM Human Resource Analytics data; The data can be downloaded from <a href="https://www.kaggle.com/code/faressayah/ibm-hr-analytics-employee-attrition-performance/input">here</a></p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="data-visualization.html#cb480-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/HR-Employee-Attrition.csv&quot;</span>)</span>
<span id="cb480-2"><a href="data-visualization.html#cb480-2" tabindex="-1"></a></span>
<span id="cb480-3"><a href="data-visualization.html#cb480-3" tabindex="-1"></a><span class="co"># Plot a boxplot</span></span>
<span id="cb480-4"><a href="data-visualization.html#cb480-4" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">y=</span>Age))<span class="sc">+</span></span>
<span id="cb480-5"><a href="data-visualization.html#cb480-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-213-1.png" width="672" /></p>
<p>The upper quartile for the employees’ age is 43(Q3) while the lower quartile(Q1) is 30.The median age is approximately 36 (Median is represented by the line that appears in the middle of the box). There are no outliers in the dataset. Lets compare the distribution of ages between male and female employees; (The <code>x</code> argument, in this case <code>Gender</code> will be introduced in <code>aes()</code> function to achieve comparison between genders)</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="data-visualization.html#cb481-1" tabindex="-1"></a><span class="co"># Plot a boxplot</span></span>
<span id="cb481-2"><a href="data-visualization.html#cb481-2" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">y=</span>Age, <span class="at">x=</span>Gender))<span class="sc">+</span></span>
<span id="cb481-3"><a href="data-visualization.html#cb481-3" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill=</span><span class="fu">c</span>(<span class="st">&quot;pink&quot;</span>, <span class="st">&quot;lightblue&quot;</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-214-1.png" width="672" /></p>
<p>The female employee have an older working population than the male counterparts with a median age of approximately 36 and 35 respectively.</p>
<p>The distance between Q3 and Q1 (in this case the height of the box) is know as the Interquartile Range(IQR).</p>
<p>The above boxplots are vertical, they can be shifted to horizontal by interchanging the <code>y</code> and <code>x</code> argument in the function <code>aes()</code>. Lets do it;</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="data-visualization.html#cb482-1" tabindex="-1"></a><span class="co"># Plot a horizontal boxplot </span></span>
<span id="cb482-2"><a href="data-visualization.html#cb482-2" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Age, <span class="at">y=</span>Gender))<span class="sc">+</span></span>
<span id="cb482-3"><a href="data-visualization.html#cb482-3" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill=</span><span class="fu">c</span>(<span class="st">&quot;pink&quot;</span>, <span class="st">&quot;lightblue&quot;</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-215-1.png" width="672" /></p>
<p>Lets add a few customization to make the graph more informative and visually appealing</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb483-1"><a href="data-visualization.html#cb483-1" tabindex="-1"></a><span class="co"># BOXPLOT </span></span>
<span id="cb483-2"><a href="data-visualization.html#cb483-2" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Age, <span class="at">y=</span>Gender))<span class="sc">+</span></span>
<span id="cb483-3"><a href="data-visualization.html#cb483-3" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill=</span><span class="fu">c</span>(<span class="st">&quot;pink&quot;</span>, <span class="st">&quot;lightblue&quot;</span>))<span class="sc">+</span></span>
<span id="cb483-4"><a href="data-visualization.html#cb483-4" tabindex="-1"></a>  <span class="fu">theme_dark</span>() <span class="sc">+</span> </span>
<span id="cb483-5"><a href="data-visualization.html#cb483-5" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb483-6"><a href="data-visualization.html#cb483-6" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;IBM HR Analytics&quot;</span>,</span>
<span id="cb483-7"><a href="data-visualization.html#cb483-7" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">&quot;Boxplots of Employees&#39; age by Gender&quot;</span>,</span>
<span id="cb483-8"><a href="data-visualization.html#cb483-8" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">&quot;Age&quot;</span>,</span>
<span id="cb483-9"><a href="data-visualization.html#cb483-9" tabindex="-1"></a>  <span class="at">y =</span> <span class="st">&quot;Gender&quot;</span>,</span>
<span id="cb483-10"><a href="data-visualization.html#cb483-10" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">&quot;Source: Kaggle&quot;</span></span>
<span id="cb483-11"><a href="data-visualization.html#cb483-11" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb483-12"><a href="data-visualization.html#cb483-12" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb483-13"><a href="data-visualization.html#cb483-13" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb483-14"><a href="data-visualization.html#cb483-14" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb483-15"><a href="data-visualization.html#cb483-15" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb483-16"><a href="data-visualization.html#cb483-16" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb483-17"><a href="data-visualization.html#cb483-17" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb483-18"><a href="data-visualization.html#cb483-18" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-216-1.png" width="672" /></p>
<p><span style="color: green;"><strong>Practical exercise</strong></span></p>
<p>Load the inbuilt <code>ToothGrowth</code> data set and create a boxplot to compare the distribution of tooth length (<code>len</code>) across the different dose levels (<code>dose</code>) of Vitamin C in the <code>ToothGrowth</code> data set. Make sure to label the axes and title the plot appropriately.</p>
<hr />
<p><span style="color: brown;"><strong>Solution</strong></span></p>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="data-visualization.html#cb484-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb484-2"><a href="data-visualization.html#cb484-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb484-3"><a href="data-visualization.html#cb484-3" tabindex="-1"></a></span>
<span id="cb484-4"><a href="data-visualization.html#cb484-4" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb484-5"><a href="data-visualization.html#cb484-5" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;ToothGrowth&quot;</span>)</span>
<span id="cb484-6"><a href="data-visualization.html#cb484-6" tabindex="-1"></a></span>
<span id="cb484-7"><a href="data-visualization.html#cb484-7" tabindex="-1"></a><span class="co"># Filter to get Vitamin C</span></span>
<span id="cb484-8"><a href="data-visualization.html#cb484-8" tabindex="-1"></a>vit_C_data <span class="ot">&lt;-</span> ToothGrowth <span class="sc">%&gt;%</span></span>
<span id="cb484-9"><a href="data-visualization.html#cb484-9" tabindex="-1"></a>  <span class="fu">filter</span>(supp<span class="sc">==</span><span class="st">&quot;VC&quot;</span>)</span>
<span id="cb484-10"><a href="data-visualization.html#cb484-10" tabindex="-1"></a></span>
<span id="cb484-11"><a href="data-visualization.html#cb484-11" tabindex="-1"></a><span class="co"># CREATE BOXPLOT </span></span>
<span id="cb484-12"><a href="data-visualization.html#cb484-12" tabindex="-1"></a><span class="fu">ggplot</span>(vit_C_data, <span class="fu">aes</span>(<span class="at">x=</span>len, <span class="at">y=</span><span class="fu">as.character</span>(dose)))<span class="sc">+</span></span>
<span id="cb484-13"><a href="data-visualization.html#cb484-13" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()<span class="sc">+</span></span>
<span id="cb484-14"><a href="data-visualization.html#cb484-14" tabindex="-1"></a>  <span class="fu">theme_dark</span>() <span class="sc">+</span> </span>
<span id="cb484-15"><a href="data-visualization.html#cb484-15" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb484-16"><a href="data-visualization.html#cb484-16" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Tooth Length distribution comparison&quot;</span>,</span>
<span id="cb484-17"><a href="data-visualization.html#cb484-17" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">&quot;Tooth Length&quot;</span>,</span>
<span id="cb484-18"><a href="data-visualization.html#cb484-18" tabindex="-1"></a>  <span class="at">y =</span> <span class="st">&quot;Dose&quot;</span></span>
<span id="cb484-19"><a href="data-visualization.html#cb484-19" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb484-20"><a href="data-visualization.html#cb484-20" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb484-21"><a href="data-visualization.html#cb484-21" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb484-22"><a href="data-visualization.html#cb484-22" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb484-23"><a href="data-visualization.html#cb484-23" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="dv">12</span>)</span>
<span id="cb484-24"><a href="data-visualization.html#cb484-24" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-217-1.png" width="672" /></p>
<p><span style="color: brown;"><strong>________________________________________________________________________________</strong></span></p>
<ul>
<li><strong>Violin Plots</strong></li>
</ul>
<p>An alternative to the boxplot is the violin plot. The violin plot addresses the issue of distribution. It shows the distribution curve unlike the boxplot and histogram.</p>
<p>To demonstrate this, lets visualize the distribution of employees age using a violin plot.</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb485-1"><a href="data-visualization.html#cb485-1" tabindex="-1"></a><span class="co"># VIOLINE PLOT </span></span>
<span id="cb485-2"><a href="data-visualization.html#cb485-2" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Age, <span class="at">y=</span><span class="st">&quot;&quot;</span>))<span class="sc">+</span></span>
<span id="cb485-3"><a href="data-visualization.html#cb485-3" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">fill =</span> <span class="st">&quot;skyblue&quot;</span>, <span class="at">color =</span> <span class="st">&quot;darkblue&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-218-1.png" width="672" /></p>
<p><span style="color: green;"><strong>Practical exercise</strong></span></p>
<p>Using the same <code>ToothGrowth</code> data set and create a violin plot to compare the distribution of tooth length (<code>len</code>) across the different dose levels (<code>dose</code>) of Vitamin C in the <code>ToothGrowth</code> data set. Make sure to label the axes and title the plot appropriately.</p>
<hr />
<p><span style="color: brown;"><strong>Solution</strong></span></p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="data-visualization.html#cb486-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb486-2"><a href="data-visualization.html#cb486-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb486-3"><a href="data-visualization.html#cb486-3" tabindex="-1"></a></span>
<span id="cb486-4"><a href="data-visualization.html#cb486-4" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb486-5"><a href="data-visualization.html#cb486-5" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;ToothGrowth&quot;</span>)</span>
<span id="cb486-6"><a href="data-visualization.html#cb486-6" tabindex="-1"></a></span>
<span id="cb486-7"><a href="data-visualization.html#cb486-7" tabindex="-1"></a><span class="co"># Filter to get Vitamin C</span></span>
<span id="cb486-8"><a href="data-visualization.html#cb486-8" tabindex="-1"></a>vit_C_data <span class="ot">&lt;-</span> ToothGrowth <span class="sc">%&gt;%</span></span>
<span id="cb486-9"><a href="data-visualization.html#cb486-9" tabindex="-1"></a>  <span class="fu">filter</span>(supp<span class="sc">==</span><span class="st">&quot;VC&quot;</span>)</span>
<span id="cb486-10"><a href="data-visualization.html#cb486-10" tabindex="-1"></a></span>
<span id="cb486-11"><a href="data-visualization.html#cb486-11" tabindex="-1"></a><span class="co"># CREATE BOXPLOT </span></span>
<span id="cb486-12"><a href="data-visualization.html#cb486-12" tabindex="-1"></a><span class="fu">ggplot</span>(vit_C_data, <span class="fu">aes</span>(<span class="at">x=</span>len, <span class="at">y=</span><span class="fu">as.character</span>(dose)))<span class="sc">+</span></span>
<span id="cb486-13"><a href="data-visualization.html#cb486-13" tabindex="-1"></a>  <span class="fu">geom_violin</span>()<span class="sc">+</span></span>
<span id="cb486-14"><a href="data-visualization.html#cb486-14" tabindex="-1"></a>  <span class="fu">theme_dark</span>() <span class="sc">+</span> </span>
<span id="cb486-15"><a href="data-visualization.html#cb486-15" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb486-16"><a href="data-visualization.html#cb486-16" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Tooth Length distribution comparison&quot;</span>,</span>
<span id="cb486-17"><a href="data-visualization.html#cb486-17" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">&quot;Tooth Length&quot;</span>,</span>
<span id="cb486-18"><a href="data-visualization.html#cb486-18" tabindex="-1"></a>  <span class="at">y =</span> <span class="st">&quot;Dose&quot;</span></span>
<span id="cb486-19"><a href="data-visualization.html#cb486-19" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb486-20"><a href="data-visualization.html#cb486-20" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb486-21"><a href="data-visualization.html#cb486-21" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb486-22"><a href="data-visualization.html#cb486-22" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb486-23"><a href="data-visualization.html#cb486-23" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">size =</span> <span class="dv">12</span>)</span>
<span id="cb486-24"><a href="data-visualization.html#cb486-24" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-219-1.png" width="672" /></p>
<p><span style="color: brown;"><strong>________________________________________________________________________________</strong></span></p>
<ul>
<li><strong>Facet Grids</strong></li>
</ul>
<p><code>ggplot2</code> has a functionality that enables creating multiple plots at once on the same chart. This concept is referred to as faceting. This use full especially when comparing two populations characteristics like distributions. There are two main functions that are used by statisticians; <code>facet_wrap()</code> and <code>facet_grid()</code>.</p>
<ol style="list-style-type: lower-roman">
<li><code>facet_wrap()</code>: Is used to design multiple plots under a single dimension(facet by one variable). Wraps plots in a grid</li>
<li><code>facet_grid()</code>: It creates grid of plots based on two variables(rows and columns). It’s particularly useful when comparing data across multiple dimensions.</li>
</ol>
<p>Lets create a box plot to demonstrate <code>facet_wrap()</code> and <code>facet_grid()</code>.</p>
<p>Create a sample data for demonstrations</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="data-visualization.html#cb487-1" tabindex="-1"></a><span class="co"># Create sample data</span></span>
<span id="cb487-2"><a href="data-visualization.html#cb487-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb487-3"><a href="data-visualization.html#cb487-3" tabindex="-1"></a>  <span class="at">category =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>), <span class="at">each =</span> <span class="dv">100</span>),</span>
<span id="cb487-4"><a href="data-visualization.html#cb487-4" tabindex="-1"></a>  <span class="at">sub_category =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;Y&quot;</span>), <span class="at">each =</span> <span class="dv">50</span>, <span class="at">times =</span> <span class="dv">3</span>),</span>
<span id="cb487-5"><a href="data-visualization.html#cb487-5" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">10</span>, <span class="at">sd =</span> <span class="dv">2</span>),</span>
<span id="cb487-6"><a href="data-visualization.html#cb487-6" tabindex="-1"></a>            <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">15</span>, <span class="at">sd =</span> <span class="fl">2.5</span>),</span>
<span id="cb487-7"><a href="data-visualization.html#cb487-7" tabindex="-1"></a>            <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">20</span>, <span class="at">sd =</span> <span class="dv">3</span>))</span>
<span id="cb487-8"><a href="data-visualization.html#cb487-8" tabindex="-1"></a>)</span>
<span id="cb487-9"><a href="data-visualization.html#cb487-9" tabindex="-1"></a></span>
<span id="cb487-10"><a href="data-visualization.html#cb487-10" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<pre><code>##   category sub_category     value
## 1        A            X  8.853046
## 2        A            X  6.143750
## 3        A            X 11.328782
## 4        A            X  6.794920
## 5        A            X  7.290799
## 6        A            X  3.964135</code></pre>
<p>A basic box plot to show the distribution of <code>"value"</code>.</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb489-1"><a href="data-visualization.html#cb489-1" tabindex="-1"></a><span class="co"># Basic boxplot</span></span>
<span id="cb489-2"><a href="data-visualization.html#cb489-2" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> sub_category, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb489-3"><a href="data-visualization.html#cb489-3" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb489-4"><a href="data-visualization.html#cb489-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb489-5"><a href="data-visualization.html#cb489-5" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Boxplot of Values by Sub-Category&quot;</span>,</span>
<span id="cb489-6"><a href="data-visualization.html#cb489-6" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Sub-Category&quot;</span>,</span>
<span id="cb489-7"><a href="data-visualization.html#cb489-7" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Value&quot;</span></span>
<span id="cb489-8"><a href="data-visualization.html#cb489-8" tabindex="-1"></a>  )</span>
<span id="cb489-9"><a href="data-visualization.html#cb489-9" tabindex="-1"></a></span>
<span id="cb489-10"><a href="data-visualization.html#cb489-10" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-221-1.png" width="672" /></p>
<p>Facet with <code>facet_wrap()</code>. This will divide <code>"value"</code> into categories based on the <code>category</code> column and create a separate boxplot for each category.</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb490-1"><a href="data-visualization.html#cb490-1" tabindex="-1"></a><span class="co"># Facet the plot by &#39;category&#39; using facet_wrap</span></span>
<span id="cb490-2"><a href="data-visualization.html#cb490-2" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span> category)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-222-1.png" width="672" /></p>
<p>Facet with the <code>facet_grid()</code> to create a grid of plots based on each <code>category</code> and <code>sub_category</code></p>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb491-1"><a href="data-visualization.html#cb491-1" tabindex="-1"></a><span class="co"># Facet the plot by &#39;category&#39; and &#39;sub_category&#39; using facet_grid</span></span>
<span id="cb491-2"><a href="data-visualization.html#cb491-2" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">facet_grid</span>(category <span class="sc">~</span> sub_category)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-223-1.png" width="672" />
As seen above, there is a boxplot to represent the distribution for each <code>sub_category</code> in a <code>category</code>.</p>
<p><span style="color: green;"><strong>Practical exercise</strong></span></p>
<p>Using the same <code>ToothGrowth</code> data set, create a violin plot to visualize the distribution of tooth length (<code>len</code>) across the different dose levels (<code>dose</code>). Use <code>facet_wrap()</code> or <code>facet_grid()</code> to split the plot by the supplement type (<code>supp</code>). Make sure to label the axes and add an appropriate title</p>
<hr />
<p><span style="color: brown;"><strong>Solution</strong></span></p>
<p>Load the data and libraries</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="data-visualization.html#cb492-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb492-2"><a href="data-visualization.html#cb492-2" tabindex="-1"></a></span>
<span id="cb492-3"><a href="data-visualization.html#cb492-3" tabindex="-1"></a><span class="co"># Load the data </span></span>
<span id="cb492-4"><a href="data-visualization.html#cb492-4" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;ToothGrowth&quot;</span>)</span></code></pre></div>
<p>Create a basic violin plot</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb493-1"><a href="data-visualization.html#cb493-1" tabindex="-1"></a><span class="co"># Basic violin plot</span></span>
<span id="cb493-2"><a href="data-visualization.html#cb493-2" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ToothGrowth, <span class="fu">aes</span>(<span class="at">x =</span> len, <span class="at">y =</span> <span class="fu">as.character</span>(dose))) <span class="sc">+</span></span>
<span id="cb493-3"><a href="data-visualization.html#cb493-3" tabindex="-1"></a>  <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb493-4"><a href="data-visualization.html#cb493-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb493-5"><a href="data-visualization.html#cb493-5" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Distribution of length across different dose levels&quot;</span>,</span>
<span id="cb493-6"><a href="data-visualization.html#cb493-6" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Tooth Length&quot;</span>,</span>
<span id="cb493-7"><a href="data-visualization.html#cb493-7" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Dose levels&quot;</span></span>
<span id="cb493-8"><a href="data-visualization.html#cb493-8" tabindex="-1"></a>  )</span>
<span id="cb493-9"><a href="data-visualization.html#cb493-9" tabindex="-1"></a></span>
<span id="cb493-10"><a href="data-visualization.html#cb493-10" tabindex="-1"></a>p <span class="co"># variable to store out plot/chart</span></span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-225-1.png" width="672" /></p>
<p>Use <code>facet_wrap()</code> to divide values into categories based on the <code>supp</code> column</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="data-visualization.html#cb494-1" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span> supp) <span class="co"># facet plot the supp column</span></span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-226-1.png" width="672" /></p>
<p>Lets make the facet more interesting by adding <code>facet_grids</code></p>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb495-1"><a href="data-visualization.html#cb495-1" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">facet_grid</span>(supp <span class="sc">~</span> <span class="fu">as.character</span>(dose))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-227-1.png" width="672" /></p>
<p><span style="color: brown;"><strong>________________________________________________________________________________</strong></span></p>
</div>
<div id="combining-multiple-plots" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Combining Multiple Plots<a href="data-visualization.html#combining-multiple-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Different plots can be combined into a single visualization. This provides a comprehensive view and different aspects of the data. The interrelationships between the variables can also be analyzed. There are multiple ways to combine plots in R(<code>ggplot</code>);</p>
<ol style="list-style-type: lower-roman">
<li><p>Using <code>patchwork</code></p></li>
<li><p>Using <code>gridExtra</code></p></li>
<li><p><strong>patchwork</strong></p></li>
</ol>
<p>The <code>patchwork</code> library provides a straightforward way to combine plots.</p>
<p>Install the library</p>
<pre><code>install.packages(&quot;patchwork&quot;)</code></pre>
<p>Lets then make some plots from the <code>mtcars</code> data set and combine them</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb497-1"><a href="data-visualization.html#cb497-1" tabindex="-1"></a><span class="co"># Load the library</span></span>
<span id="cb497-2"><a href="data-visualization.html#cb497-2" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb497-3"><a href="data-visualization.html#cb497-3" tabindex="-1"></a></span>
<span id="cb497-4"><a href="data-visualization.html#cb497-4" tabindex="-1"></a><span class="co"># Load the data </span></span>
<span id="cb497-5"><a href="data-visualization.html#cb497-5" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;mtcars&quot;</span>)</span>
<span id="cb497-6"><a href="data-visualization.html#cb497-6" tabindex="-1"></a></span>
<span id="cb497-7"><a href="data-visualization.html#cb497-7" tabindex="-1"></a><span class="co"># Make three plots </span></span>
<span id="cb497-8"><a href="data-visualization.html#cb497-8" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> mpg, <span class="at">y =</span> disp)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Scatter Plot&quot;</span>)</span>
<span id="cb497-9"><a href="data-visualization.html#cb497-9" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(cyl), <span class="at">y =</span> mpg)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Boxplot&quot;</span>)</span>
<span id="cb497-10"><a href="data-visualization.html#cb497-10" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(cyl))) <span class="sc">+</span> <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Bar Chart&quot;</span>)</span></code></pre></div>
<p>Combine the plots side by side</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb498-1"><a href="data-visualization.html#cb498-1" tabindex="-1"></a><span class="co"># Combine plots side by side</span></span>
<span id="cb498-2"><a href="data-visualization.html#cb498-2" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span> p3</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-229-1.png" width="672" /></p>
<p>The plots can also be combined by stacking them together</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb499-1"><a href="data-visualization.html#cb499-1" tabindex="-1"></a><span class="co"># Stack plots vertically</span></span>
<span id="cb499-2"><a href="data-visualization.html#cb499-2" tabindex="-1"></a>p1 <span class="sc">/</span> p2 <span class="sc">/</span> p3</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-230-1.png" width="672" /></p>
<p><code>+</code> is used to combine the plots side by side while <code>/</code> is used to stack the plots vertically. Brackets <code>()</code> are used to group two or more plots together.</p>
<p>Lets create a complex layout where two plots are grouped to the right and one plot is one the left side.</p>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb500-1"><a href="data-visualization.html#cb500-1" tabindex="-1"></a>(p1<span class="sc">+</span>(p2<span class="sc">/</span>p3))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-231-1.png" width="672" /></p>
<p>Alternatively the plots can be plotted by using <code>|</code> instead of <code>+</code>.</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb501-1"><a href="data-visualization.html#cb501-1" tabindex="-1"></a>(p1<span class="sc">|</span>(p2<span class="sc">/</span>p3)) <span class="co"># Note the &#39;|&#39; instead of &#39;+&#39;</span></span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-232-1.png" width="672" /></p>
<ol start="2" style="list-style-type: lower-roman">
<li><strong>gridExtra</strong></li>
</ol>
<p>The <code>gridExtra</code> package allows the plots to be combined with a pre-determined number of rows and columns.</p>
<p>Install the <code>gridExtra</code> package</p>
<pre><code>install.packages(&quot;gridExtra&quot;)</code></pre>
<p>Load the package and combine the three plots</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb503-1"><a href="data-visualization.html#cb503-1" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;gridExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     combine</code></pre>
<div class="sourceCode" id="cb506"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb506-1"><a href="data-visualization.html#cb506-1" tabindex="-1"></a><span class="co"># Combine plots using gridExtra</span></span>
<span id="cb506-2"><a href="data-visualization.html#cb506-2" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, p3, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-233-1.png" width="672" /></p>
<p>Lets stack the plots</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb507-1"><a href="data-visualization.html#cb507-1" tabindex="-1"></a><span class="co"># Stack the plots </span></span>
<span id="cb507-2"><a href="data-visualization.html#cb507-2" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, p3, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-234-1.png" width="672" /></p>
<p>Now combine the three plots side by side</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb508-1"><a href="data-visualization.html#cb508-1" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, p3, <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-235-1.png" width="672" /></p>
<p><span style="color: green;"><strong>Practical exercise</strong></span></p>
<p>Download the E-commerce Customer Behavior Data set from <a href="https://www.kaggle.com/datasets/samps74/e-commerce-customer-behavior-dataset/data">here</a>. Create multiple plots that will combine;</p>
<ul>
<li>A histogram to show annual income distribution</li>
<li>A box plot that will show Time on Site distribution</li>
<li>A bar chart that compare different genders count for the customers</li>
<li>A scatter plot to compare age vs annual income</li>
</ul>
<hr />
<p><span style="color: brown;"><strong>Solution</strong></span></p>
</div>
</div>
<div id="solution-to-be-provided-1" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> <span style="color: brown;">SOLUTION TO BE PROVIDED</span><a href="data-visualization.html#solution-to-be-provided-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><span style="color: brown;"><strong>________________________________________________________________________________</strong></span></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-manipulation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="explanatory-data-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/balsaedi/RCourse/edit/main/05-data_visualization.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/balsaedi/RCourse/blob/main/05-data_visualization.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
